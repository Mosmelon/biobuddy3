{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Moa\\\\Desktop\\\\BioBuddy\\\\BioBuddy\\\\src\\\\Components\\\\Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\nimport { Movie } from '../Api/Movie';\nimport image1 from '../Home.png';\nimport image2 from '../Search.png';\nimport image3 from '../chat.png';\nimport image4 from '../profile.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FEATURED_API = \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=618a4d3048a1a1f797c014affaf110b4&page=1\";\nconst IMAGE_API = \"https://image.tmdb.org/t/p/w1280\";\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?&api_key=618a4d3048a1a1f797c014affaf110b4&query=\";\nconst GENRE_API = \"https://api.themoviedb.org/3/genre/movie/list?api_key=618a4d3048a1a1f797c014affaf110b4&language=en-US\";\nexport default function Search() {\n  _s();\n\n  var _this = this;\n\n  fetchMovies = async function (page) {\n    let searchTerm = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n\n    try {\n      _this.setState({\n        error: false,\n        loading: true\n      });\n\n      const movies = await API.fetchMovies(searchTerm, page);\n\n      _this.setState(prev => ({ ...prev,\n        movies: { ...movies,\n          results: page > 1 ? [...prev.movies.results, ...movies.results] : [...movies.results]\n        },\n        loading: false\n      }));\n    } catch (error) {\n      _this.setState({\n        error: true,\n        loading: false\n      });\n    }\n  };\n\n  const [movies, setMovies, setState] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  useEffect(() => {\n    getMovies(FEATURED_API, GENRE_API);\n  }, []);\n\n  const getMovies = API => {\n    fetch(API).then(res => res.json()).then(data => {\n      console.log(data);\n      setMovies(data.results);\n    });\n  };\n\n  const handleOnSubmit = e => {\n    e.preventDefault();\n\n    if (searchTerm) {\n      getMovies(SEARCH_API + searchTerm); // fetch(SEARCH_API + searchTerm)\n      // .then((res) => res.json())\n      // .then((data) => {\n      //   setMovies(data.results);\n      // });\n\n      setSearchTerm('');\n    }\n  };\n\n  const handleOnChange = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  return (\n    /*#__PURE__*/\n    // kolla upp när man bara trycker enter utan någon text.\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleOnSubmit,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"search\",\n            type: \"search\",\n            src: image2,\n            placeholder: \"Search for movietitle...\",\n            value: searchTerm,\n            onChange: handleOnChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-container\",\n        children: movies.length > 0 && movies.map(movie => /*#__PURE__*/_jsxDEV(Movie, {\n          datta: movie,\n          ...movie\n        }, movie.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 59\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Bar\",\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"homepic1\",\n              src: image3,\n              alt: \"home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Search\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"homepic2\",\n              src: image2,\n              alt: \"search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Recomend\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"homepic3\",\n              src: image1,\n              alt: \"chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 99,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/MyProfile\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"homepic4\",\n              src: image4,\n              alt: \"profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 100,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  );\n}\n\n_s(Search, \"V47GJQVIk8k/eL7CRqG7H+W4joM=\");\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/Moa/Desktop/BioBuddy/BioBuddy/src/Components/Search.js"],"names":["React","useEffect","useState","Link","Movie","image1","image2","image3","image4","FEATURED_API","IMAGE_API","SEARCH_API","GENRE_API","Search","fetchMovies","page","searchTerm","setState","error","loading","movies","API","prev","results","setMovies","setSearchTerm","getMovies","fetch","then","res","json","data","console","log","handleOnSubmit","e","preventDefault","handleOnChange","target","value","length","map","movie","id"],"mappings":"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","sourcesContent":["import React, {useEffect, useState} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../App.css';\r\nimport {Movie}  from '../Api/Movie';\r\n\r\nimport image1 from '../Home.png';\r\nimport image2 from '../Search.png';\r\nimport image3 from '../chat.png';\r\nimport image4 from '../profile.png';\r\n\r\n\r\n\r\nconst FEATURED_API =\"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=618a4d3048a1a1f797c014affaf110b4&page=1\";\r\nconst IMAGE_API = \"https://image.tmdb.org/t/p/w1280\";\r\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?&api_key=618a4d3048a1a1f797c014affaf110b4&query=\";\r\nconst GENRE_API = \"https://api.themoviedb.org/3/genre/movie/list?api_key=618a4d3048a1a1f797c014affaf110b4&language=en-US\"\r\n\r\n\r\n\r\n\r\nexport default function Search() {\r\n  \r\n    fetchMovies = async (page, searchTerm = '') => {\r\n        try {\r\n          this.setState({ error: false, loading: true });\r\n    \r\n          const movies = await API.fetchMovies(searchTerm, page);\r\n    \r\n          this.setState(prev => ({\r\n            ...prev,\r\n            movies: {\r\n              ...movies,\r\n              results:\r\n                page > 1\r\n                  ? [...prev.movies.results, ...movies.results]\r\n                  : [...movies.results]\r\n            },\r\n            loading: false\r\n          }));\r\n        } catch (error) {\r\n          this.setState({ error: true, loading: false });\r\n        }\r\n      };\r\n  const [ movies, setMovies, setState] = useState([]);\r\n  const [searchTerm, setSearchTerm]= useState('');\r\n  \r\n  useEffect(() =>{\r\n    getMovies(FEATURED_API, GENRE_API);\r\n  \r\n  },[]);\r\n\r\n    const getMovies = (API) => {\r\n      fetch(API)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        setMovies(data.results);\r\n      });\r\n    }\r\n\r\n  const handleOnSubmit= (e) => {\r\n    e.preventDefault();\r\n\r\n    if(searchTerm){\r\n      getMovies(SEARCH_API+searchTerm);\r\n    // fetch(SEARCH_API + searchTerm)\r\n    // .then((res) => res.json())\r\n    // .then((data) => {\r\n    //   setMovies(data.results);\r\n    // });\r\n\r\n    setSearchTerm(''); \r\n    }\r\n  };\r\n  \r\n  const handleOnChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n\r\n  return(\r\n\r\n        // kolla upp när man bara trycker enter utan någon text.\r\n      <><header>\r\n          <form onSubmit={handleOnSubmit}>\r\n              <input className=\"search\" type=\"search\" src={image2} placeholder= \"Search for movietitle...\" value={searchTerm} onChange={handleOnChange} />\r\n          </form>\r\n      </header>\r\n      <div className=\"movie-container\">\r\n\r\n              {movies.length > 0 && movies.map((movie) => <Movie key={movie.id} datta={movie} {...movie} />\r\n              )}\r\n\r\n          </div>\r\n          <div className=\"Bar\">\r\n              <nav>\r\n              <Link to=\"/\"><img className=\"homepic1\" src={image3} alt=\"home\" /></Link>\r\n              <Link to=\"/Search\"><img className=\"homepic2\" src={image2} alt=\"search\" /></Link>\r\n              <Link to=\"/Recomend\"> <img className=\"homepic3\" src={image1} alt=\"chat\" /></Link>\r\n              <Link to=\"/MyProfile\"><img className=\"homepic4\" src={image4} alt=\"profile\" /></Link>\r\n              </nav>\r\n\r\n          </div></>\r\n\r\n  );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}