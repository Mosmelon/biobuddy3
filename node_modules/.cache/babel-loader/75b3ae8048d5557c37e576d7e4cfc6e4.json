{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Moa\\\\desktop\\\\BioBuddy\\\\BioBuddy\\\\src\\\\Components\\\\Search.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from 'react';\nimport { Link } from 'react-router-dom';\nimport '../App.css';\nimport Movie from '../Api/Movie';\nimport image1 from '../plus.png';\nimport image2 from '../Search.png';\nimport image3 from '../chat.png';\nimport image4 from '../user.png';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst FEATURED_API = \"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=618a4d3048a1a1f797c014affaf110b4&page=1\";\nconst IMAGE_API = \"https://image.tmdb.org/t/p/w1280\";\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?&api_key=618a4d3048a1a1f797c014affaf110b4&query=\";\nconst GENRE_API = \"https://api.themoviedb.org/3/genre/movie/list?api_key=618a4d3048a1a1f797c014affaf110b4&language=en-US\";\nexport default function Search() {\n  _s();\n\n  const buttonRef = useRef(null);\n  const [movies, setMovies, setState] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [favourites, setFavourites] = useState([]);\n  const [MainMovieImage, setMainMovieImage] = useState(null);\n  const [Loading, setLoading] = useState(true);\n  const [CurrentPage, setCurrentPage] = useState(0);\n  useEffect(() => {\n    getMovies(FEATURED_API, GENRE_API);\n  }, []);\n\n  const getMovies = API => {\n    fetch(API).then(res => res.json()).then(data => {\n      console.log(data);\n      setMovies(data.results);\n    });\n  };\n\n  const handleOnSubmit = e => {\n    e.preventDefault();\n\n    if (searchTerm) {\n      getMovies(SEARCH_API + searchTerm); // fetch(SEARCH_API + searchTerm)\n      // .then((res) => res.json())\n      // .then((data) => {\n      //   setMovies(data.results);\n      // });\n\n      setSearchTerm('');\n    }\n  };\n\n  const handleOnChange = e => {\n    setSearchTerm(e.target.value);\n  };\n\n  const loadMoreItems = () => {\n    let endpoint = '';\n    setLoading(true);\n    console.log('CurrentPage', CurrentPage);\n    endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=${CurrentPage + 1}`;\n    fetchMovies(endpoint);\n  };\n\n  return (\n    /*#__PURE__*/\n    // kolla upp när man bara trycker enter utan någon text.\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"header\", {\n        children: /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleOnSubmit,\n          children: /*#__PURE__*/_jsxDEV(\"input\", {\n            className: \"search\",\n            type: \"search\",\n            src: image2,\n            placeholder: \"Search for movietitle...\",\n            value: searchTerm,\n            onChange: handleOnChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"movie-container\",\n        children: movies.length > 0 && movies.map((movie, index) => /*#__PURE__*/_jsxDEV(React.Fragment, {\n          children: /*#__PURE__*/_jsxDEV(Movie, {\n            movieId: movie.id,\n            image: movie.poster_path ? `${IMAGE_API}${movie.poster_path}` : null,\n            movieName: movie.title\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 86\n          }, this)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 58\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }, this), Loading && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          ref: buttonRef,\n          className: \"loadMore\",\n          onClick: loadMoreItems,\n          children: \"Load More\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"extra\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"Bar\",\n        children: /*#__PURE__*/_jsxDEV(\"nav\", {\n          children: [/*#__PURE__*/_jsxDEV(Link, {\n            to: \"/\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"homepic1\",\n              src: image3,\n              alt: \"home\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 28\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 102,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Search\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"homepic2\",\n              src: image2,\n              alt: \"search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 103,\n              columnNumber: 34\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/Recomend\",\n            children: [\" \", /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"homepic3\",\n              src: image1,\n              alt: \"chat\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 37\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(Link, {\n            to: \"/MyProfile\",\n            children: /*#__PURE__*/_jsxDEV(\"img\", {\n              className: \"homepic4\",\n              src: image4,\n              alt: \"profile\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 15\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true)\n  );\n}\n\n_s(Search, \"dwWKbsQYBuxqDct8z1Hlb2R/U40=\");\n\n_c = Search;\n\nvar _c;\n\n$RefreshReg$(_c, \"Search\");","map":{"version":3,"sources":["C:/Users/Moa/desktop/BioBuddy/BioBuddy/src/Components/Search.js"],"names":["React","useEffect","useState","useRef","Link","Movie","image1","image2","image3","image4","FEATURED_API","IMAGE_API","SEARCH_API","GENRE_API","Search","buttonRef","movies","setMovies","setState","searchTerm","setSearchTerm","favourites","setFavourites","MainMovieImage","setMainMovieImage","Loading","setLoading","CurrentPage","setCurrentPage","getMovies","API","fetch","then","res","json","data","console","log","results","handleOnSubmit","e","preventDefault","handleOnChange","target","value","loadMoreItems","endpoint","API_URL","API_KEY","fetchMovies","length","map","movie","index","id","poster_path","title","display","justifyContent"],"mappings":"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","sourcesContent":["import React, {useEffect, useState, useRef} from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport '../App.css';\r\nimport  Movie  from '../Api/Movie';\r\n\r\nimport image1 from '../plus.png';\r\nimport image2 from '../Search.png';\r\nimport image3 from '../chat.png';\r\nimport image4 from '../user.png';\r\n\r\n\r\n\r\nconst FEATURED_API =\"https://api.themoviedb.org/3/discover/movie?sort_by=popularity.desc&api_key=618a4d3048a1a1f797c014affaf110b4&page=1\";\r\nconst IMAGE_API = \"https://image.tmdb.org/t/p/w1280\";\r\nconst SEARCH_API = \"https://api.themoviedb.org/3/search/movie?&api_key=618a4d3048a1a1f797c014affaf110b4&query=\";\r\nconst GENRE_API = \"https://api.themoviedb.org/3/genre/movie/list?api_key=618a4d3048a1a1f797c014affaf110b4&language=en-US\"\r\n\r\n\r\n\r\n\r\nexport default function Search() {\r\n  const buttonRef = useRef(null);\r\n  const [ movies, setMovies, setState] = useState([]);\r\n  const [searchTerm, setSearchTerm]= useState('');\r\n  \r\n  const [favourites, setFavourites] = useState([]);\r\n  const [MainMovieImage, setMainMovieImage] = useState(null)\r\n  const [Loading, setLoading] = useState(true)\r\n  const [CurrentPage, setCurrentPage] = useState(0)\r\n  useEffect(() =>{\r\n    getMovies(FEATURED_API, GENRE_API);\r\n  \r\n  },[]);\r\n\r\n    const getMovies = (API) => {\r\n      fetch(API)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        console.log(data);\r\n        setMovies(data.results);\r\n      });\r\n    }\r\n\r\n  const handleOnSubmit= (e) => {\r\n    e.preventDefault();\r\n\r\n    if(searchTerm){\r\n      getMovies(SEARCH_API+searchTerm);\r\n    // fetch(SEARCH_API + searchTerm)\r\n    // .then((res) => res.json())\r\n    // .then((data) => {\r\n    //   setMovies(data.results);\r\n    // });\r\n\r\n    setSearchTerm(''); \r\n    }\r\n  };\r\n  \r\n  const handleOnChange = (e) => {\r\n    setSearchTerm(e.target.value);\r\n  };\r\n\r\n  const loadMoreItems = () => {\r\n    let endpoint = '';\r\n    setLoading(true)\r\n    console.log('CurrentPage', CurrentPage)\r\n    endpoint = `${API_URL}movie/popular?api_key=${API_KEY}&language=en-US&page=${CurrentPage + 1}`;\r\n    fetchMovies(endpoint);\r\n  \r\n  }\r\n\r\n  return(\r\n\r\n        // kolla upp när man bara trycker enter utan någon text.\r\n      <><header>\r\n          <form onSubmit={handleOnSubmit}>\r\n              <input className=\"search\" type=\"search\" src={image2} placeholder= \"Search for movietitle...\" value={searchTerm} onChange={handleOnChange} />\r\n          </form>\r\n      </header>\r\n      <div className=\"movie-container\">\r\n\r\n      {movies.length > 0 && movies.map((movie, index) => <React.Fragment key={index}><Movie movieId={movie.id} image={movie.poster_path ?\r\n                                    `${IMAGE_API}${movie.poster_path}`\r\n                                    : null} movieName={movie.title}/></React.Fragment>\r\n          )}\r\n\r\n          </div>\r\n          {Loading &&\r\n                    <div>Loading...</div>}\r\n\r\n                <br />\r\n                <div style={{ display: 'flex', justifyContent: 'center' }}>\r\n                    <button ref={buttonRef} className=\"loadMore\" onClick={loadMoreItems}>Load More</button>\r\n                </div>\r\n\r\n          <div className= \"extra\">\r\n        \r\n        </div>\r\n        \r\n          <div className=\"Bar\">\r\n              <nav>\r\n              <Link to=\"/\"><img className=\"homepic1\" src={image3} alt=\"home\" /></Link>\r\n              <Link to=\"/Search\"><img className=\"homepic2\" src={image2} alt=\"search\" /></Link>\r\n              <Link to=\"/Recomend\"> <img className=\"homepic3\" src={image1} alt=\"chat\" /></Link>\r\n              <Link to=\"/MyProfile\"><img className=\"homepic4\" src={image4} alt=\"profile\" /></Link>\r\n              </nav>\r\n\r\n          </div></>\r\n\r\n  );\r\n\r\n}\r\n"]},"metadata":{},"sourceType":"module"}